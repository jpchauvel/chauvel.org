"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[8590,7139],{58590:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S,pluginManagerPlugin:()=>L});var a=n(14286),s=n(9268),r=n(10498),o=n(84025),i=n(41719),l=n(25175),c=n(28480),u=n(8953),p=n(96889),d=n(2536),g=n(77626),m=n.n(g);class h{constructor(){this._status="idle",this._statusChanged=new d.Signal(this)}get status(){return this._status}get statusChanged(){return this._statusChanged}setStatus(e){this._status!==e&&(this._status=e,this._statusChanged.emit(e))}}function v(e){const[t,n]=(0,g.useState)(e.model.status);(0,g.useEffect)((()=>{const t=(e,t)=>{n(t)};return e.model.statusChanged.connect(t),()=>{e.model.statusChanged.disconnect(t)}}),[e.model]);const a="dead"===t,s="idle"===t,r=!a&&!s;return m().createElement("div",{className:"jp-KernelStatus",onClick:e.onClick,style:{cursor:"pointer"},title:"Click to open kernel logs"},m().createElement("div",{className:"jp-KernelStatus-icon-container"},r&&m().createElement("div",{className:"jp-KernelStatus-spinner"},m().createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m().createElement("circle",{className:"jp-KernelStatus-spinner-track",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m().createElement("path",{className:"jp-KernelStatus-spinner-path",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))),s&&m().createElement("div",{className:"jp-KernelStatus-success"},m().createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m().createElement("path",{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2"}),m().createElement("path",{d:"M8 12L11 15L16 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),a&&m().createElement("div",{className:"jp-KernelStatus-error"},m().createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m().createElement("path",{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2"}),m().createElement("path",{d:"M15 9L9 15M9 9L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))))}class w extends r.ReactWidget{constructor(e){super(),this._model=e.model,this._onClick=e.onClick||(()=>{}),this.addClass("jp-KernelStatus-widget"),this.addClass("jp-mod-highlighted"),this.node.style.cursor="pointer"}get model(){return this._model}render(){return m().createElement(v,{model:this._model,onClick:this._onClick})}}const C={id:"@jupyterlite/apputils-extension:kernel-status",description:"Kernel status indicator for JupyterLite",autoStart:!0,optional:[r.IToolbarWidgetRegistry,p.ILoggerRegistry],activate:(e,t,n)=>{const{commands:a}=e;t&&t.addFactory("Notebook","kernelStatus",(e=>{const t=new h;if(e.sessionContext.statusChanged.connect(((e,n)=>{t.setStatus(n)})),n){const a=e.context.path,s=n.getLogger(a);null==s||s.contentChanged.connect(((e,n)=>{const a=s.outputAreaModel.length;if("append"===n&&a>0){const e=s.outputAreaModel.get(a-1).level;"critical"===e?t.setStatus("dead"):"metadata"!==e&&t.setStatus("busy")}}))}return new w({model:t,onClick:()=>{a.execute("logconsole:open")}})}))}};var k=n(6129);class f extends k.RenderMimeRegistry.UrlResolver{constructor(e){super(e),this._mimeTypes={".apng":"image/apng",".avif":"image/avif",".svg":"image/svg+xml",".png":"image/png",".jpg":"image/jpeg",".jpeg":"image/jpeg",".gif":"image/gif",".webp":"image/webp",".bmp":"image/bmp",".ico":"image/x-icon",".tiff":"image/tiff"},this._manager=e.contents}async resolveUrl(e){if(this.isLocal(e)){const t=encodeURI(a.PathExt.dirname(this.path));e=a.PathExt.resolve(t,e);const n=a.PathExt.extname(e).toLowerCase();if(n&&this._mimeTypes[n]){const t=await this._manager.get(e,{content:!0}),a="base64"===t.format?t.content:window.btoa(t.content);return`data:${this._mimeTypes[n]};base64,${a}`}}return super.resolveUrl(e)}}const P={id:"@jupyterlite/apputils-extension:url-resolver",autoStart:!0,description:"A URL resolver which converts supported image URLs into base64 encoded data strings.",provides:k.IUrlResolverFactory,activate:e=>({createResolver:e=>new f(e)})};var x;!function(e){e.openPluginManager="apputils:open-plugin-manager"}(x||(x={}));const y={id:"@jupyterlite/application-extension:licenses-client",autoStart:!0,provides:r.ILicensesClient,activate:e=>new u.LiteLicensesClient},L={id:"@jupyterlite/application-extension:plugin-manager",description:"Plugin manager viewer",autoStart:!0,optional:[s.JupyterLab.IInfo,i.ITranslator,r.ICommandPalette],provides:o.IPluginManager,activate:(e,t,n,a)=>{var s;const c=null!==(s=null==t?void 0:t.availablePlugins)&&void 0!==s?s:[];if(0===c.length)return{open:async()=>{console.info("The application does not contain information about plugins")}};const{commands:p,serviceManager:d,shell:g}=e,m=(n=null!=n?n:i.nullTranslator).load("jupyterlab"),h=m.__("Plugin Manager"),v=m.__("Advanced Plugin Manager"),w=new r.WidgetTracker({namespace:"plugin-manager"});return p.addCommand(x.openPluginManager,{label:v,execute:e=>{const t=function(e){const t=new u.LitePluginListModel({...e,pluginData:{availablePlugins:c},serverSettings:d.serverSettings,extraLockedPlugins:[L.id],translator:null!=n?n:i.nullTranslator}),a=new o.Plugins({model:t,translator:null!=n?n:i.nullTranslator});return a.title.label=v,a.title.icon=l.extensionIcon,a.title.caption=m.__("Plugin Manager"),new r.MainAreaWidget({content:a,reveal:t.ready})}(e);return g.add(t,"main",{type:"Plugins"}),w.add(t),t.content.model.trackerDataChanged.connect((()=>{w.save(t)})),t}}),a&&a.addItem({command:x.openPluginManager,category:h}),{open:()=>e.commands.execute(x.openPluginManager)}}},_={id:"@jupyterlite/application-extension:translator-connector",description:"Provides the application translation connector.",autoStart:!0,provides:i.ITranslatorConnector,activate:e=>new u.LiteTranslatorConnector},E={id:"@jupyterlite/application-extension:resolver",autoStart:!0,provides:r.IWindowResolver,requires:[s.JupyterFrontEnd.IPaths,s.IRouter,u.IWorkspaceRouter],activate:async(e,t,n,s)=>{const r=new URL(window.location.href),o=r.searchParams.get("workspace")||r.searchParams.get("clone")||a.PageConfig.getOption("workspace")||"default",i={name:o||a.PageConfig.defaultWorkspace};try{return i}catch(t){const{workspaces:s}=e.serviceManager,l=await s.fetch(o),c=`${o.split("-")[0]}-${+new Date}`;await s.save(c,l);const u=a.PageConfig.getOption("appUrl");r.pathname=u,r.searchParams.set("clone",c),r.searchParams.delete("workspace");const p=a.URLExt.join(u,r.toString().split(u)[1]);return n.navigate(p),i}}},j={id:"@jupyterlite/application-extension:workspaces",requires:[c.ILiteRouter],autoStart:!0,provides:u.IWorkspaceRouter,activate:(e,t)=>{const n=a.PageConfig.getOption("appUrl"),s=a.PageConfig.getOption("baseUrl");if(n){const e=a.URLExt.join(n,"workspaces")+"/",r=a.URLExt.join(s,"doc/workspaces/auto-");t.addTransformer({id:j.id,transform:({options:t,url:a})=>{if(t.hard&&a.pathname.startsWith(e)){const t=a.pathname.replace(e,"");a.pathname=n,a.searchParams.set("workspace",t)}return t.hard&&a.pathname.startsWith(r)&&(a.pathname=n,a.searchParams.delete("reset")),{url:a,options:t}}})}return{}}},S=[y,L,_,j,C,E,P]}}]);
//# sourceMappingURL=8590.60ad7e4.js.map
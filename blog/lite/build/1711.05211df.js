"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[1711],{21711:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q});var n=a(9268),o=a(10498),r=a(14286),i=a(71574),s=a(77015),l=a(94716),c=a(68147),d=a(37635),p=a(10378),m=a(41719),u=a(25175),h=a(28480),g=a(8953),C=a(86525),b=a(88084),_=a(84527),y=a(46918),w=a(83491),f=a(56114),k=a(60920),v=a(77626),j=a.n(v);class D extends o.ReactWidget{constructor(e){super(),this._translator=e.translator,this._availability=e.availability||{canClearSettings:!0,canClearContents:!0,canClearWorkspaces:!0},this._settingsChecked=this._availability.canClearSettings,this._contentsChecked=this._availability.canClearContents,this._workspacesChecked=this._availability.canClearWorkspaces,this.addClass("jp-ClearData-dialog")}getValue(){return{clearSettings:this._settingsChecked&&this._availability.canClearSettings,clearContents:this._contentsChecked&&this._availability.canClearContents,clearWorkspaces:this._workspacesChecked&&this._availability.canClearWorkspaces}}render(){return j().createElement(S,{translator:this._translator,settingsChecked:this._settingsChecked,contentsChecked:this._contentsChecked,workspacesChecked:this._workspacesChecked,availability:this._availability,setSettingsChecked:e=>{this._settingsChecked=e,this.update()},setContentsChecked:e=>{this._contentsChecked=e,this.update()},setWorkspacesChecked:e=>{this._workspacesChecked=e,this.update()}})}}function S(e){const{translator:t,settingsChecked:a,contentsChecked:n,workspacesChecked:o,availability:r,setSettingsChecked:i,setContentsChecked:s,setWorkspacesChecked:l}=e,c=t.load("@jupyterlite");return j().createElement("div",{className:"jp-ClearData-container"},j().createElement("div",{className:"jp-ClearData-warning-box"},j().createElement("div",{className:"jp-ClearData-warning-icon"},"⚠️"),j().createElement("div",{className:"jp-ClearData-warning-text"},j().createElement("span",{className:"jp-ClearData-warning-title"},c.__("Warning: Data Loss Risk")),j().createElement("p",null,c.__("Clearing browser data will permanently remove data stored in your browser. This operation cannot be undone and may result in loss of:")),j().createElement("ul",null,j().createElement("li",null,c.__("User settings and preferences")),j().createElement("li",null,c.__("Notebooks and files stored in the browser")),j().createElement("li",null,c.__("Workspace layouts and panel arrangements")),j().createElement("li",null,c.__("Unsaved work and changes"))))),j().createElement("div",{className:"jp-ClearData-option "+(r.canClearSettings?"":"jp-mod-disabled")},j().createElement("input",{id:"jp-ClearData-settings",type:"checkbox",checked:a,onChange:e=>i(e.target.checked),disabled:!r.canClearSettings}),j().createElement("label",{htmlFor:"jp-ClearData-settings",className:r.canClearSettings?"":"jp-mod-disabled"},c.__("Settings and preferences"),!r.canClearSettings&&j().createElement("span",{className:"jp-ClearData-unavailable"}," ",c.__("(unavailable)")))),j().createElement("div",{className:"jp-ClearData-option "+(r.canClearContents?"":"jp-mod-disabled")},j().createElement("input",{id:"jp-ClearData-contents",type:"checkbox",checked:n,onChange:e=>s(e.target.checked),disabled:!r.canClearContents}),j().createElement("label",{htmlFor:"jp-ClearData-contents",className:r.canClearContents?"":"jp-mod-disabled"},c.__("Files and notebooks"),!r.canClearContents&&j().createElement("span",{className:"jp-ClearData-unavailable"}," ",c.__("(unavailable)")))),j().createElement("div",{className:"jp-ClearData-option "+(r.canClearWorkspaces?"":"jp-mod-disabled")},j().createElement("input",{id:"jp-ClearData-workspaces",type:"checkbox",checked:o,onChange:e=>l(e.target.checked),disabled:!r.canClearWorkspaces}),j().createElement("label",{htmlFor:"jp-ClearData-workspaces",className:r.canClearWorkspaces?"":"jp-mod-disabled"},c.__("Workspace layouts"),!r.canClearWorkspaces&&j().createElement("span",{className:"jp-ClearData-unavailable"}," ",c.__("(unavailable)")))),j().createElement("div",{className:"jp-ClearData-reload-notice"},c.__("This will reload the page after clearing the selected data.")))}const x=new RegExp("/(lab|tree|notebooks|edit|consoles)\\/?");var E;!function(e){e.about="application:about",e.docmanagerDownload="docmanager:download",e.filebrowserDownload="filebrowser:download",e.copyShareableLink="filebrowser:share-main",e.clearBrowserData="application:clear-browser-data"}(E||(E={}));const I="jupyterlite",W={id:"@jupyterlite/application-extension:lite-router",autoStart:!0,provides:h.ILiteRouter,requires:[n.JupyterFrontEnd.IPaths],activate:(e,t)=>{const{commands:a}=e,{base:n}=t.urls,o=new h.LiteRouter({base:n,commands:a});return e.started.then((()=>{o.route(),window.addEventListener("popstate",(()=>{o.route()}))})),o}},N={id:"@jupyterlite/application-extension:router",autoStart:!0,provides:n.IRouter,requires:[h.ILiteRouter],activate:(e,t)=>t},R={id:"@jupyterlite/application-extension:about",autoStart:!0,requires:[m.ITranslator],optional:[o.ICommandPalette,c.IMainMenu],activate:(e,t,a,n)=>{const{commands:r}=e,i=t.load(I),s=i.__("Help");r.addCommand(E.about,{label:i.__("About %1",e.name),execute:()=>{const t=i.__("Version %1",e.version),a=j().createElement("span",{className:"jp-About-version-info"},j().createElement("span",{className:"jp-About-version"},t)),n=j().createElement("span",{className:"jp-About-header"},j().createElement("div",{className:"jp-About-header-info"},j().createElement(_.liteWordmark.react,{height:"auto",width:"196px"}),a)),r=j().createElement("span",{className:"jp-About-externalLinks"},j().createElement("a",{href:"https://github.com/jupyterlite/jupyterlite/graphs/contributors",target:"_blank",rel:"noopener noreferrer",className:"jp-Button-flat"},i.__("CONTRIBUTOR LIST")),j().createElement("a",{href:"https://github.com/jupyterlite/jupyterlite",target:"_blank",rel:"noopener noreferrer",className:"jp-Button-flat"},i.__("JUPYTERLITE ON GITHUB"))),s=j().createElement("span",{className:"jp-About-copyright"},i.__("© 2021-, JupyterLite Contributors")),l=j().createElement("div",{className:"jp-About-body"},r,s);return(0,o.showDialog)({title:n,body:l,buttons:[o.Dialog.createButton({label:i.__("Dismiss"),className:"jp-About-button jp-mod-reject jp-mod-styled"})]})}}),a&&a.addItem({command:E.about,category:s}),n&&n.helpMenu.addGroup([{command:E.about}],0)}},L={id:"@jupyterlite/application-extension:download",autoStart:!0,requires:[m.ITranslator,i.IDocumentManager],optional:[o.ICommandPalette,s.IFileBrowserFactory],activate:(e,t,a,n,r)=>{const i=t.load(I),{commands:s,serviceManager:l,shell:c}=e,{contents:d}=l,p=()=>{const{currentWidget:e}=c;return!(!e||!a.contextForWidget(e))},m=async(e,t)=>{var a,n,o;const r=await d.get(e,{content:!0}),i=document.createElement("a");if("notebook"===r.type||"json"===r.format||"text/json"===r.mimetype){const e=null!==(a=r.mimetype)&&void 0!==a?a:"text/json",t=JSON.stringify(r.content,null,2);i.href=`data:${e};charset=utf-8,${encodeURIComponent(t)}`}else if("text"===r.format||"text/plain"===r.mimetype){const e=null!==(n=r.mimetype)&&void 0!==n?n:"text/plain";i.href=`data:${e};charset=utf-8,${encodeURIComponent(r.content)}`}else{if("base64"!==r.format&&"application/octet-stream"!==r.mimetype)throw new Error(`Content whose mimetype is "${r.mimetype}" cannot be downloaded`);{const e=null!==(o=r.mimetype)&&void 0!==o?o:"application/octet-stream";i.href=`data:${e};base64,${r.content}`}}i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)};s.addCommand(E.docmanagerDownload,{label:i.__("Download"),caption:i.__("Download the file to your computer"),isEnabled:p,execute:async()=>{const e=c.currentWidget;if(!p()||!e)return;const t=a.contextForWidget(e);if(!t)return(0,o.showDialog)({title:i.__("Cannot Download"),body:i.__("No context found for current widget!"),buttons:[o.Dialog.okButton({label:i.__("OK")})]});await t.save();try{await m(t.path,t.path)}catch(e){return(0,o.showDialog)({title:i.__("Cannot Download"),body:JSON.stringify(e),buttons:[o.Dialog.okButton({label:i.__("OK")})]})}}});const h=i.__("File Operations");if(n&&n.addItem({command:E.docmanagerDownload,category:h}),r){const{tracker:e}=r;s.addCommand(E.filebrowserDownload,{execute:async()=>{const t=e.currentWidget;t&&Array.from(t.selectedItems()).forEach((async e=>{if("directory"!==e.type)try{await m(e.path,e.name)}catch(e){return(0,o.showDialog)({title:i.__("Cannot Download"),body:JSON.stringify(e),buttons:[o.Dialog.okButton({label:i.__("OK")})]})}}))},icon:u.downloadIcon.bindprops({stylesheet:"menuItem"}),label:i.__("Download")})}}},P={id:"@jupyterlite/application-extension:logo",optional:[n.ILabShell],autoStart:!0,activate:(e,t)=>{if(!t)return;const a=new k.Widget;_.liteIcon.element({container:a.node,elementPosition:"center",margin:"2px 2px 2px 8px",height:"auto",width:"16px"}),a.id="jp-MainLogo",t.add(a,"top",{rank:0})}},U={id:"@jupyterlite/application-extension:lsp-connection-manager",autoStart:!0,requires:[l.IWidgetLSPAdapterTracker],provides:l.ILSPDocumentConnectionManager,activate:(e,t)=>{const a=new class extends l.LanguageServerManager{async fetchSessions(){}}({settings:e.serviceManager.serverSettings});return new l.DocumentConnectionManager({languageServerManager:a,adapterTracker:t})}},B={id:"@jupyterlite/application-extension:notify-commands",autoStart:!0,optional:[n.ILabShell],activate:(e,t)=>{t&&t.layoutModified.connect((()=>{e.commands.notifyCommandChanged()}))}},T={id:"@jupyterlite/application-extension:opener",autoStart:!0,requires:[n.IRouter,i.IDocumentManager],optional:[n.ILabShell,p.ISettingRegistry],activate:(e,t,a,n,o)=>{const{commands:i,docRegistry:s}=e,l="router:tree";i.addCommand(l,{execute:l=>{var c;const d=l,{request:p,search:m}=d;if(null!==(c=p.match(x))&&void 0!==c&&!c)return;const u=new URLSearchParams(m),h=u.getAll("path");if(0===h.length)return;const g=h.map((e=>decodeURIComponent(e)));e.started.then((async()=>{var e;const l=r.PageConfig.getOption("notebookPage"),[c]=g;if("tree"===l){let e="/edit";"Notebook"===s.defaultWidgetFactory(c).name&&(e="/notebooks");const t=r.PageConfig.getBaseUrl(),a=new URL(r.URLExt.join(t,e,"index.html"));return a.searchParams.append("path",c),void(window.location.href=a.toString())}if("consoles"!==l)if("notebooks"===l||"edit"===l){let t=s.defaultWidgetFactory(c).name;if(o){const e=(await o.load("@jupyterlab/docmanager-extension:plugin")).get("defaultViewers").composite;s.getFileTypesForPath(c).forEach((a=>{void 0!==e[a.name]&&s.getWidgetFactory(e[a.name])&&(t=e[a.name])}))}const n=null!==(e=u.get("factory"))&&void 0!==e?e:t;a.open(c,n,void 0,{ref:"_noref"})}else{g.forEach((e=>a.open(e)));const e=new URL(r.URLExt.join(r.PageConfig.getBaseUrl(),p));e.searchParams.delete("path");const{pathname:o,search:s}=e;if(t.navigate(`${o}${s}`,{skipRouting:!0}),n){const e=()=>{i.execute("docmanager:show-in-file-browser"),n.currentChanged.disconnect(e)};n.currentChanged.connect(e)}}else i.execute("console:create",{path:c})}))}}),t.register({command:l,pattern:x})}},M={id:"@jupyterlite/application-extension:service-worker-manager",autoStart:!0,provides:b.IServiceWorkerManager,optional:[C.IKernelClient],activate:(e,t)=>{const{contents:a}=e.serviceManager,n=new b.ServiceWorkerManager({contents:a});return void 0!==t&&n.registerStdinHandler("kernel",t.handleStdin.bind(t)),n}},F={id:"@jupyterlite/application-extension:session-context-patch",autoStart:!0,requires:[i.IDocumentManager,i.IDocumentWidgetOpener],activate:(e,t,a)=>{const n=e.serviceManager.contents;a.opened.connect(((e,a)=>{var o;const r=t.contextForWidget(a);if(""===n.driveName(null!==(o=null==r?void 0:r.path)&&void 0!==o?o:""))return;const i=a.context.sessionContext;i._name=null==r?void 0:r.path,i._path=null==r?void 0:r.path}))}},O={id:"@jupyterlite/application-extension:share-file",requires:[s.IFileBrowserFactory,m.ITranslator],autoStart:!0,activate:(e,t,a)=>{const n=a.load(I),{commands:i,docRegistry:s}=e,{tracker:l}=t;i.addCommand(E.copyShareableLink,{execute:()=>{const e=l.currentWidget;if(!e)return;const t=r.PageConfig.getBaseUrl();let a=r.PageConfig.getOption("appUrl");const n=Array.from((0,f.filter)(e.selectedItems(),(e=>"directory"!==e.type)));if(!n.length)return;if("/tree"===a){const[e]=n;a="Notebook"===s.defaultWidgetFactory(e.path).name?"/notebooks":"/edit"}const i=new URL(r.URLExt.join(t,a,"index.html"));n.forEach((e=>{i.searchParams.append("path",e.path)})),o.Clipboard.copyToSystem(i.href)},isVisible:()=>!!l.currentWidget&&Array.from(l.currentWidget.selectedItems()).length>=1,icon:u.linkIcon.bindprops({stylesheet:"menuItem"}),label:n.__("Copy Shareable Link")})}},A={id:"@jupyterlite/application-extension:clear-browser-data",autoStart:!0,requires:[m.ITranslator],optional:[o.ICommandPalette,d.ISettingManager,d.IDefaultDrive,s.IDefaultFileBrowser,d.IWorkspaceManager],activate:(e,t,a,n,r,i,s)=>{const{commands:l}=e,c=t.load(I),d=c.__("Help"),p=r instanceof y.BrowserStorageDrive,m=n instanceof w.Settings,h=s instanceof g.LiteWorkspaceManager;(p||m||h)&&(p&&i&&i.addClass("jp-BrowserStorageDrive"),l.addCommand(E.clearBrowserData,{label:c.__("Clear Browser Data"),icon:e=>e.isPalette?void 0:u.clearIcon,execute:async()=>{const e=new D({translator:t,availability:{canClearSettings:m&&!!n,canClearContents:p&&!!r,canClearWorkspaces:h&&!!s}});return(await(0,o.showDialog)({title:c.__("Clear Browser Data"),body:e,buttons:[o.Dialog.cancelButton({label:c.__("Cancel")}),o.Dialog.warnButton({label:c.__("Clear")})]})).button.accept?(async e=>{const{clearSettings:t,clearContents:a,clearWorkspaces:o}=e,i=[];if(a&&p){const e=r;i.push(e.clearStorage())}if(t&&m){const e=n;i.push(e.clear())}if(o&&h){const e=s;i.push(e.clear())}await Promise.all(i),window.location.reload()})(e.getValue()):await Promise.resolve()}}),a&&a.addItem({command:E.clearBrowserData,category:d}))}},$={id:"@jupyterlite/application-extension:mode-support",autoStart:!0,optional:[n.ILabShell,n.IRouter],activate:(e,t,a)=>{if(!t)return;const n=new URL(window.location.href).searchParams.get("mode")||r.PageConfig.getOption("mode")||"multiple-document";e.restored.then((()=>{"single-document"!==n&&"multiple-document"!==n||(t.mode=n,r.PageConfig.setOption("mode",n))})),t.modeChanged.connect(((e,t)=>{const n=new URL(window.location.href);if(n.searchParams.get("mode")!==t&&(n.searchParams.set("mode",t),a)){const{pathname:e,search:t}=n;a.navigate(`${e}${t}`,{skipRouting:!0})}r.PageConfig.setOption("mode",t)}))}},q=[R,A,L,W,P,U,$,B,T,N,M,F,O]}}]);
//# sourceMappingURL=1711.05211df.js.map